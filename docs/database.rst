Database Tables
===============

As this version of DBImport dont have the web admin tool available, the documentation will be agains each column in the configuration database tables. The admin tool will later use the same fields so whats said in here will later be applicable on the admin tool aswell.

 
 
 
Table - airflow_custom_dags
---------------------------



+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Column                           | Documentation                                                                                                                                               |
+==================================+=============================================================================================================================================================+
| dag_name                         | Name of Airflow DAG.                                                                                                                                        |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| schedule_interval                | Time to execute dag                                                                                                                                         |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| retries                          |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| operator_notes                   | Free text field to write a note about the import.                                                                                                           |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| application_notes                | Free text field that can be used for application documentaton, notes or links.                                                                              |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
 
 
 
Table - airflow_dag_sensors
---------------------------



+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Column                           | Documentation                                                                                                                                               |
+==================================+=============================================================================================================================================================+
| dag_name                         | Name of DAG to add sensor to                                                                                                                                |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sensor_name                      | name of the sensor Task                                                                                                                                     |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| wait_for_dag                     | Name of DAG to wait for. Must be defined in DBImport                                                                                                        |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| wait_for_task                    | Name of task to wait for.Default is 'stop'                                                                                                                  |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| timeout_minutes                  | Number of minutes to wait for DAG.                                                                                                                          |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
 
 
 
Table - airflow_dag_triggers
----------------------------

VIEW

+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Column                           | Documentation                                                                                                                                               |
+==================================+=============================================================================================================================================================+
| dag_name                         |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| trigger_name                     |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| dag_to_trigger                   |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
 
 
 
Table - airflow_etl_dags
------------------------



+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Column                           | Documentation                                                                                                                                               |
+==================================+=============================================================================================================================================================+
| dag_name                         | Name of Airflow DAG.                                                                                                                                        |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| schedule_interval                | Time to execute dag                                                                                                                                         |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| filter_job                       |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| filter_task                      |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| filter_source_db                 |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| filter_target_db                 |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| retries                          |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| trigger_dag_on_success           |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| operator_notes                   | Free text field to write a note about the import.                                                                                                           |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| application_notes                | Free text field that can be used for application documentaton, notes or links.                                                                              |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
 
 
 
Table - airflow_execution_type
------------------------------



+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Column                           | Documentation                                                                                                                                               |
+==================================+=============================================================================================================================================================+
| executionid                      |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| execution_type                   |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
 
 
 
Table - airflow_export_dags
---------------------------



+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Column                           | Documentation                                                                                                                                               |
+==================================+=============================================================================================================================================================+
| dag_name                         | Name of Airflow DAG.                                                                                                                                        |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| schedule_interval                | Time to execute dag                                                                                                                                         |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| filter_dbalias                   | Filter string for DBALIAS in export_tables                                                                                                                  |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| filter_target_schema             | Filter string for TARGET_SCHEMA  in export_tables                                                                                                           |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| filter_target_table              | Filter string for TARGET_TABLE  in export_tables                                                                                                            |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| retries                          |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| trigger_dag_on_success           | Name of DAG to trigger if export is successfull. Comma seperated list of DAGs (optional)                                                                    |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| operator_notes                   | Free text field to write a note about the import.                                                                                                           |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| application_notes                | Free text field that can be used for application documentaton, notes or links.                                                                              |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
 
 
 
Table - airflow_import_dags
---------------------------



+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Column                           | Documentation                                                                                                                                               |
+==================================+=============================================================================================================================================================+
| dag_name                         | Name of Airflow DAG.                                                                                                                                        |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| schedule_interval                | Time to execute dag                                                                                                                                         |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| filter_hive                      | Filter string for database and table. ; separated. Wildcards (*) allowed. Example HIVE_DB.HIVE_TABLE; HIVE_DB.HIVE_TABLE                                    |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| filter_hive_db                   | NOT USED: Filter string for HIVE_DB in import_tables                                                                                                        |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| filter_hive_table                | NOT USED: Filter string for HIVE_TABLE in import_tables                                                                                                     |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| finish_all_stage1_first          |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| retries                          |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| retries_stage1                   |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| retries_stage2                   |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| pool_stage1                      | Airflow pool used for stage1 tasks. NULL for default pool                                                                                                   |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| pool_stage2                      | Airflow pool used for stage2 tasks. NULL for default pool                                                                                                   |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| operator_notes                   | Free text field to write a note about the import.                                                                                                           |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| application_notes                | Free text field that can be used for application documentaton, notes or links.                                                                              |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| auto_table_discovery             |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
 
 
 
Table - airflow_import_dag_execution
------------------------------------



+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Column                           | Documentation                                                                                                                                               |
+==================================+=============================================================================================================================================================+
| dag_name                         |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| executionid                      |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| task_config                      |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| task_name                        |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
 
 
 
Table - airflow_import_task_execution
-------------------------------------



+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Column                           | Documentation                                                                                                                                               |
+==================================+=============================================================================================================================================================+
| hive_db                          |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_table                       |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| stage                            |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| executionid                      |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| task_config                      |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| task_name                        |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
 
 
 
Table - airflow_tasks
---------------------



+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Column                           | Documentation                                                                                                                                               |
+==================================+=============================================================================================================================================================+
| dag_name                         |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| task_name                        |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| task_type                        |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| placement                        |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| jdbc_dbalias                     | For  'JDBC SQL' Task Type, this specifies what database the SQL should run against                                                                          |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_db                          |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| airflow_pool                     |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| airflow_priority                 |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| include_in_airflow               |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| task_dependency_in_main          |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| task_config                      |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
 
 
 
Table - auto_discovered_tables
------------------------------



+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Column                           | Documentation                                                                                                                                               |
+==================================+=============================================================================================================================================================+
| hive_db                          |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| dbalias                          |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| source_schema                    |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| source_table                     |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| discovery_time                   |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| migrate_to_import_tables         |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
 
 
 
Table - etl_jobs
----------------



+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Column                           | Documentation                                                                                                                                               |
+==================================+=============================================================================================================================================================+
| job                              |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| task                             |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| job_id                           |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| etl_type                         |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| include_in_airflow               |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| source_db                        |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| source_table                     |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| target_db                        |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| target_table                     |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| operator_notes                   | Free text field to write a note about the import.                                                                                                           |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
 
 
 
Table - export_columns
----------------------



+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Column                           | Documentation                                                                                                                                               |
+==================================+=============================================================================================================================================================+
| table_id                         |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| column_id                        |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| column_name                      |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| column_order                     |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_db                          | Only used to make it easier to read the table. No real usage                                                                                                |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_table                       | Only used to make it easier to read the table. No real usage                                                                                                |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| target_column_name               |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| last_update_from_hive            |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| last_export_time                 |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| selection                        |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| include_in_export                |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| operator_notes                   | Free text field to write a note about the import.                                                                                                           |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
 
 
 
Table - export_tables
---------------------



+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Column                           | Documentation                                                                                                                                               |
+==================================+=============================================================================================================================================================+
| dbalias                          |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| target_schema                    |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| target_table                     |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| table_id                         |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| export_type                      | full or incr                                                                                                                                                |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_db                          |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_table                       |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| last_update_from_hive            |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sql_where_addition               | Will be added AFTER the SQL WHERE. If it's an incr export, this will be after the incr limit statements. Example "orderId > 1000"                           |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| include_in_airflow               | Will the table be included in Airflow DAG when it matches the DAG selection                                                                                 |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| export_history                   | If set to 1, the DBImport definition is used for the hive_table without '_history' at the end of the tablename                                              |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| source_is_view                   | Auto updated by 'update_DB_export_from_hive.sh'                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| source_is_acid                   | Auto updated by 'update_DB_export_from_hive.sh'                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| validate_export                  |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| uppercase_columns                | -1 = auto (Oracle = uppercase, other databases = lowercase)                                                                                                 |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| truncate_target                  |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| mappers                          | -1 = auto, 0 = invalid. Auto updated by 'export_main.sh'                                                                                                    |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_rowcount                    | Used for validation. Dont change manually                                                                                                                   |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| target_rowcount                  | Used for validation. Dont change manually                                                                                                                   |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| incr_column                      |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| incr_minvalue                    |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| incr_maxvalue                    |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| incr_minvalue_pending            |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| incr_maxvalue_pending            |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_options                    | Auto updated when target table is created.                                                                                                                  |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_last_size                  |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_last_rows                  |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| create_target_table_sql          | Auto updated when target table is created.                                                                                                                  |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| operator_notes                   | Free text field to write a note about the import.                                                                                                           |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
 
 
 
Table - import_columns
----------------------



+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Column                           | Documentation                                                                                                                                               |
+==================================+=============================================================================================================================================================+
| table_id                         |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| column_id                        |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| column_order                     |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| column_name                      |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_db                          | Only used to make it easier to read the table. No real usage                                                                                                |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_table                       | Only used to make it easier to read the table. No real usage                                                                                                |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| source_column_name               |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| column_type                      | Updated by get_source_tableschema.sh                                                                                                                        |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| source_column_type               | Updated by get_source_tableschema.sh                                                                                                                        |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| source_database_type             | Updated by get_source_tableschema.sh                                                                                                                        |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_column_type                | Used to create a correct --map-column-java setting for sqoop. Updated by get_source_tableschema.sh                                                          |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| force_string                     | If set to 1, this forces char and varchars to be string in Hive                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| include_in_import                |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| source_primary_key               | Number starting from 1 listing the order of the column in the PK                                                                                            |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| last_update_from_source          |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| comment                          |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| operator_notes                   | Free text field to write a note about the import.                                                                                                           |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
 
 
 
Table - import_failure_log
--------------------------



+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Column                           | Documentation                                                                                                                                               |
+==================================+=============================================================================================================================================================+
| hive_db                          |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_table                       |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| eventtime                        |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| severity                         |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| import_type                      |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| error_text                       |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
 
 
 
Table - import_foreign_keys
---------------------------

All foreign key definitions is saved in this table. The information in this table is recreated all the time, so no manually changes are allowed here. For a better understanding of this table, please use the view called import_foreign_keys_view instead

+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Column                           | Documentation                                                                                                                                               |
+==================================+=============================================================================================================================================================+
| table_id                         | Table ID in import_tables that have the FK                                                                                                                  |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| column_id                        | Column ID in import_columns that have the FK                                                                                                                |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| fk_index                         | Index of FK                                                                                                                                                 |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| fk_table_id                      | Table ID in import_tables that the table is having a reference against                                                                                      |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| fk_column_id                     | Column ID in import_columns that the table is having a reference against                                                                                    |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| key_position                     | Position of the key                                                                                                                                         |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
 
 
 
Table - import_foreign_keys_VIEW
--------------------------------

VIEW

+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Column                           | Documentation                                                                                                                                               |
+==================================+=============================================================================================================================================================+
| hive_db                          | Only used to make it easier to read the table. No real usage                                                                                                |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_table                       | Only used to make it easier to read the table. No real usage                                                                                                |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| fk_index                         | Index of FK                                                                                                                                                 |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| column_name                      |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ref_hive_Db                      | Only used to make it easier to read the table. No real usage                                                                                                |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ref_hive_table                   | Only used to make it easier to read the table. No real usage                                                                                                |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ref_column_name                  |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
 
 
 
Table - import_retries_log
--------------------------



+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Column                           | Documentation                                                                                                                                               |
+==================================+=============================================================================================================================================================+
| hive_db                          |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_table                       |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| retry_time                       |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| stage                            |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| stage_description                |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| import_type                      |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| unrecoverable_error              |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| get_source_rowcount_start        |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| get_source_rowcount_stop         |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| get_source_rowcount_duration     |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_start                      |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_stop                       |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_duration                   |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_mappers                    |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_rows                       |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_size                       |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| source_table_rowcount            |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| target_table_rowcount            |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| incr_minvalue                    |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| incr_maxvalue                    |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| incr_column                      |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| logdir                           |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| timefile                         |                                                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
 
 
 
Table - import_stage
--------------------



+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Column                           | Documentation                                                                                                                                               |
+==================================+=============================================================================================================================================================+
| hive_db                          | Hive Database                                                                                                                                               |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_table                       | Hive Table                                                                                                                                                  |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| stage                            | Current stage of the import. This is an internal stage and has nothing to do with stage1 and stage2 in Airflow DAG's                                        |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| stage_description                | Description of the stage                                                                                                                                    |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| import_type                      | <NOT USED>                                                                                                                                                  |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| unrecoverable_error              | <NOT USED>                                                                                                                                                  |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| get_source_rowcount_start        | <NOT USED>                                                                                                                                                  |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| get_source_rowcount_stop         | <NOT USED>                                                                                                                                                  |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| get_source_rowcount_duration     | <NOT USED>                                                                                                                                                  |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_start                      | <NOT USED>                                                                                                                                                  |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_stop                       | <NOT USED>                                                                                                                                                  |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_duration                   | <NOT USED>                                                                                                                                                  |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_mappers                    | <NOT USED>                                                                                                                                                  |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_rows                       | <NOT USED>                                                                                                                                                  |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_size                       | <NOT USED>                                                                                                                                                  |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| source_table_rowcount            | <NOT USED>                                                                                                                                                  |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| target_table_rowcount            | <NOT USED>                                                                                                                                                  |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| incr_minvalue                    | <NOT USED>                                                                                                                                                  |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| incr_maxvalue                    | <NOT USED>                                                                                                                                                  |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| incr_column                      | <NOT USED>                                                                                                                                                  |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| logdir                           | <NOT USED>                                                                                                                                                  |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| timefile                         | <NOT USED>                                                                                                                                                  |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
 
 
 
Table - import_tables
---------------------

Main table where all tables that we can import are stored. 

+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Column                           | Documentation                                                                                                                                               |
+==================================+=============================================================================================================================================================+
| hive_db                          | Hive Database to import to                                                                                                                                  |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_table                       | Hive Table to import to                                                                                                                                     |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| table_id                         | Unique identifier                                                                                                                                           |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| dbalias                          | Name of database connection from jdbc_connections table                                                                                                     |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| source_schema                    | Name of the schema in the remote database                                                                                                                   |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| source_table                     | Name of the table in the remote database                                                                                                                    |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| import_type                      | What import method to use                                                                                                                                   |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| last_update_from_source          | Timestamp of last schema update from source                                                                                                                 |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_sql_where_addition         | Will be added AFTER the SQL WHERE. If it's an incr import, this will be after the incr limit statements. Example "orderId > 1000"                           |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| nomerge_ingestion_sql_addition   | This will be added to the data ingestion of None-Merge imports (full, full_direct and incr). Usefull to filter out data from import tables to target tables |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| include_in_airflow               | Will the table be included in Airflow DAG when it matches the DAG selection                                                                                 |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| airflow_priority                 | This will set priority_weight in Airflow                                                                                                                    |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| validate_import                  | Should the import be validated                                                                                                                              |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| validate_diff_allowed            | -1 = auto calculated diff allowed. If a positiv number, this is the amount of rows that the diff is allowed to have                                         |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| truncate_hive                    | Truncate Hive table before loading it.                                                                                                                      |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| mappers                          | -1 = auto or positiv number for a fixed number of mappers. If Auto, then it's calculated based of last sqoop import size                                    |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| soft_delete_during_merge         | If 1, then the row will be marked as deleted instead of actually being removed from the table. Only used for Merge imports                                  |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| source_rowcount                  | Used for validation. Dont change manually                                                                                                                   |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_rowcount                    | Used for validation. Dont change manually                                                                                                                   |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| incr_mode                        | append or lastmodified                                                                                                                                      |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| incr_column                      | What column to use to identify new rows                                                                                                                     |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| incr_minvalue                    | Used for incremental imports. Dont change manually                                                                                                          |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| incr_maxvalue                    | Used for incremental imports. Dont change manually                                                                                                          |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| incr_minvalue_pending            | Used for incremental imports. Dont change manually                                                                                                          |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| incr_maxvalue_pending            | Used for incremental imports. Dont change manually                                                                                                          |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| pk_column_override               | Force the import and Hive table to define another PrimaryKey constraint. Comma separeted list of columns                                                    |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| pk_column_override_mergeonly     | Force the import to use another PrimaryKey constraint during Merge operations. Comma separeted list of columns                                              |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_merge_heap                  | Should be a multiple of Yarn container size. If NULL then it will use the default specified in Yarn and TEZ                                                 |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| concatenate_hive_table           | <NOT USED>                                                                                                                                                  |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_query                      | Use a custom query in sqoop to read data from source table                                                                                                  |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_options                    | Options to send to sqoop. Most common used for --split-by option                                                                                            |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_last_size                  | Used to track sqoop operation. Dont change manually                                                                                                         |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_last_rows                  | Used to track sqoop operation. Dont change manually                                                                                                         |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_last_execution             | Used to track sqoop operation. Dont change manually                                                                                                         |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_use_generated_sql          | 1 = Use the generated SQL that is saved in the generated_sqoop_query column                                                                                 |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_allow_text_splitter        | Allow splits on text columns. Use with caution                                                                                                              |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| force_string                     | If set to 1, all character based fields (char, varchar) will become string in Hive. Overrides the same setting in jdbc_connections table                    |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| comment                          | Table comment from source system. Dont change manually                                                                                                      |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| generated_hive_column_definition | Generated column definition for Hive create table. Dont change manually                                                                                     |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| generated_sqoop_query            | Generated query for sqoop. Dont change manually                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| generated_sqoop_options          | Generated options for sqoop. Dont change manually                                                                                                           |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| generated_pk_columns             | Generated Primary Keys. Dont change manually                                                                                                                |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| generated_foreign_keys           | <NOT USED>                                                                                                                                                  |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| datalake_source                  | This value will come in the dbimport_source column if present. Overrides the same setting in jdbc_connections table                                         |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| operator_notes                   | Free text field to write a note about the import.                                                                                                           |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
 
 
 
Table - jdbc_connections
------------------------

Database connection definitions

+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Column                           | Documentation                                                                                                                                               |
+==================================+=============================================================================================================================================================+
| dbalias                          | Name of the Database connection                                                                                                                             |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| private_key_path                 | <NOT USED>                                                                                                                                                  |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| public_key_path                  | <NOT USED>                                                                                                                                                  |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| jdbc_url                         | The JDBC URL String                                                                                                                                         |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| credentials                      | Encrypted fields for credentials.m Changed by the saveCredentialTool                                                                                        |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| datalake_source                  | This value will come in the dbimport_source column if present. Priority is table, connection                                                                |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| force_string                     | If set to 1, all character based fields (char, varchar) will become string in Hive                                                                          |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| create_datalake_import           | If set to 1, the datalake_import column will be created on all tables that is using this dbalias                                                            |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| timewindow_start                 | Start of the time window when we are allowed to run against this connection.                                                                                |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| timewindow_stop                  | End of the time window when we are allowed to run against this connection.                                                                                  |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| operator_notes                   | Free text field to write a note about the connection                                                                                                        |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
 
 
 
Table - json_to_rest
--------------------

Temporary storage of JSON payloads that will be sent to a REST interface if the tool is configured to do so.

+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Column                           | Documentation                                                                                                                                               |
+==================================+=============================================================================================================================================================+
| id                               | Unique Identifier                                                                                                                                           |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| endpoint                         | The REST interface to send the json data to                                                                                                                 |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| status                           | Internal status to keep track of what the status of the transmissions is                                                                                    |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| jsondata                         | The payload to send                                                                                                                                         |
+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
