Database Tables
===============

As this version of DBImport dont have the web admin tool available, the documentation will be agains each column in the configuration database tables. The admin tool will later use the same fields so whats said in here will later be applicable on the admin tool aswell.

 
 
 
Table - export_columns
----------------------

This table contains all columns that exists on all tables that we are exporting. Unlike the export_tables table, this one gets created automatically by the export tool

+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Column                           | Documentation                                                                                                                                                                                                               |
+==================================+=============================================================================================================================================================================================================================+
| table_id                         | Foreign Key to export_tables column 'table_id'                                                                                                                                                                              |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| column_id                        | Unique identifier                                                                                                                                                                                                           |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| column_name                      | Name of column in target table. Dont change this manually                                                                                                                                                                   |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| column_order                     | The order of the columns                                                                                                                                                                                                    |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_db                          | Only used to make it easier to read the table. No real usage                                                                                                                                                                |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_table                       | Only used to make it easier to read the table. No real usage                                                                                                                                                                |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| target_column_name               | Name of column in the target system                                                                                                                                                                                         |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| last_update_from_hive            | Timestamp of last schema update from Hive                                                                                                                                                                                   |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| last_export_time                 | Timestamp of last export                                                                                                                                                                                                    |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| selection                        | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| include_in_export                | 1 = Include column in export, 0 = Exclude column in export                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| operator_notes                   | Free text field to write a note about the import.                                                                                                                                                                           |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
 
 
 
Table - export_tables
---------------------

Main table where all tables that we can export are stored. 

+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Column                           | Documentation                                                                                                                                                                                                               |
+==================================+=============================================================================================================================================================================================================================+
| dbalias                          | Database connection name that we export to                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| target_schema                    | Schema on the target system                                                                                                                                                                                                 |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| target_table                     | Table on the target system                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| table_id                         | Unique identifier of the table                                                                                                                                                                                              |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| export_type                      | What export method to use. Only full and incr is supported.                                                                                                                                                                 |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_db                          | Name of Hive Database that we export from                                                                                                                                                                                   |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_table                       | Name of Hive Table that we export from                                                                                                                                                                                      |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| last_update_from_hive            | Timestamp of last schema update from Hive                                                                                                                                                                                   |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sql_where_addition               | Will be added AFTER the SQL WHERE. If it's an incr export, this will be after the incr limit statements. Example "orderId > 1000"                                                                                           |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| include_in_airflow               | Will the table be included in Airflow DAG when it matches the DAG selection                                                                                                                                                 |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| export_history                   | If set to 1, the DBImport definition is used for the hive_table without '_history' at the end of the tablename                                                                                                              |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| source_is_view                   | Identifies if the Hive Table really is a view. Dont change this manually                                                                                                                                                    |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| source_is_acid                   | Identifies if the Hive Table are using acid. Dont change this manually                                                                                                                                                      |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| validate_export                  | 1 = Validate the export once it's done. 0 = Disable validation                                                                                                                                                              |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| uppercase_columns                | -1 = auto (Oracle = uppercase, other databases = lowercase)                                                                                                                                                                 |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| truncate_target                  | 1 = Truncate the target table before we export the data                                                                                                                                                                     |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| mappers                          | -1 = auto, 0 = invalid. Auto updated by 'export_main.sh'                                                                                                                                                                    |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_rowcount                    | Number of rows in Hive table. Dont change manually                                                                                                                                                                          |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| target_rowcount                  | Number of rows in Target table. Dont change manually                                                                                                                                                                        |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| incr_column                      | The column in the Hive table that will be used to identify new rows for the incremental export. Must be a timestamp column                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| incr_minvalue                    | Used by incremental exports to keep track of progress. Dont change manually                                                                                                                                                 |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| incr_maxvalue                    | Used by incremental exports to keep track of progress. Dont change manually                                                                                                                                                 |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| incr_minvalue_pending            | Used by incremental exports to keep track of progress. Dont change manually                                                                                                                                                 |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| incr_maxvalue_pending            | Used by incremental exports to keep track of progress. Dont change manually                                                                                                                                                 |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_options                    | Sqoop options to use during export.                                                                                                                                                                                         |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_last_size                  | Last sqoop execution resulted in this size. Dont change manually                                                                                                                                                            |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_last_rows                  | Last sqoop execution resulted in many rows. Dont change manually                                                                                                                                                            |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| create_target_table_sql          | SQL statement that was used to create the target table. Dont change manually                                                                                                                                                |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| operator_notes                   | Free text field to write a note about the export.                                                                                                                                                                           |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
 
 
 
Table - import_columns
----------------------

This table contains all columns that exists on all tables that we are importing. Unlike the import_tables table, this one gets created automatically by the 'Get Source TableSchema' stage. 

+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Column                           | Documentation                                                                                                                                                                                                               |
+==================================+=============================================================================================================================================================================================================================+
| table_id                         | Foreign Key to import_tables column 'table_id'                                                                                                                                                                              |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| column_id                        | Unique identifier of the column                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| column_order                     | In what order does the column exist in the source system.                                                                                                                                                                   |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| column_name                      | Name of column in Hive. Dont change this manually                                                                                                                                                                           |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_db                          | Hive Database                                                                                                                                                                                                               |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_table                       | Hive Table                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| source_column_name               | Name of column in source system. Dont change this manually                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| column_type                      | Column type in Hive. Dont change this manually                                                                                                                                                                              |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| source_column_type               | Column type in source system. Dont change this manually                                                                                                                                                                     |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| source_database_type             | That database type was the column imported from                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_column_type                | Used to create a correct --map-column-java setting for sqoop.                                                                                                                                                               |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| force_string                     | If set to 1, all character based fields (char, varchar) will become string in Hive. Overrides the same setting in import_tables and jdbc_connections table                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| include_in_import                | 1 = Include column in import, 0 = Exclude column in import                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| source_primary_key               | Number starting from 1 listing the order of the column in the PK. Dont change this manually                                                                                                                                 |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| last_update_from_source          | Timestamp of last schema update from source                                                                                                                                                                                 |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| comment                          | The column comment from the source system                                                                                                                                                                                   |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| operator_notes                   | Free text field to write a note about the column                                                                                                                                                                            |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
 
 
 
Table - import_failure_log
--------------------------

If there is an error or a warning during import, bu the import still continues, these errors are logged in this table. An example could be that  a column cant be altered, foreign key not created, no new columns can be added and such.

+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Column                           | Documentation                                                                                                                                                                                                               |
+==================================+=============================================================================================================================================================================================================================+
| hive_db                          | Hive Database                                                                                                                                                                                                               |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_table                       | Hive Table                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| eventtime                        | Time when error/warning occurred                                                                                                                                                                                            |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| severity                         | The Severity of the event.                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| import_type                      | The import method used                                                                                                                                                                                                      |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| error_text                       | Text describing the failure                                                                                                                                                                                                 |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
 
 
 
Table - import_foreign_keys
---------------------------

All foreign key definitions is saved in this table. The information in this table is recreated all the time, so no manually changes are allowed here. For a better understanding of this table, please use the view called import_foreign_keys_view instead

+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Column                           | Documentation                                                                                                                                                                                                               |
+==================================+=============================================================================================================================================================================================================================+
| table_id                         | Table ID in import_tables that have the FK                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| column_id                        | Column ID in import_columns that have the FK                                                                                                                                                                                |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| fk_index                         | Index of FK                                                                                                                                                                                                                 |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| fk_table_id                      | Table ID in import_tables that the table is having a reference against                                                                                                                                                      |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| fk_column_id                     | Column ID in import_columns that the table is having a reference against                                                                                                                                                    |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| key_position                     | Position of the key                                                                                                                                                                                                         |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
 
 
 
Table - import_foreign_keys_VIEW
--------------------------------

VIEW

+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Column                           | Documentation                                                                                                                                                                                                               |
+==================================+=============================================================================================================================================================================================================================+
| hive_db                          | Hive Database                                                                                                                                                                                                               |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_table                       | Hive Table                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| fk_index                         | Index of FK                                                                                                                                                                                                                 |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| column_name                      | Name of column in Hive. Dont change this manually                                                                                                                                                                           |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ref_hive_Db                      | Hive Database                                                                                                                                                                                                               |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ref_hive_table                   | Hive Table                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ref_column_name                  | Name of column in Hive. Dont change this manually                                                                                                                                                                           |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
 
 
 
Table - import_retries_log
--------------------------

Log of all retries that have happened. 

+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Column                           | Documentation                                                                                                                                                                                                               |
+==================================+=============================================================================================================================================================================================================================+
| hive_db                          | Hive DB                                                                                                                                                                                                                     |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_table                       | Hive Table                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| retry_time                       | Time when the retry was started                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| stage                            | The stage of the import that the retry started from. This is an internal stage and has nothing to do with stage1 and stage2 in Airflow DAG's                                                                                |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| stage_description                | Description of the stage                                                                                                                                                                                                    |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| import_type                      | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| unrecoverable_error              | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| get_source_rowcount_start        | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| get_source_rowcount_stop         | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| get_source_rowcount_duration     | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_start                      | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_stop                       | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_duration                   | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_mappers                    | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_rows                       | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_size                       | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| source_table_rowcount            | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| target_table_rowcount            | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| incr_minvalue                    | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| incr_maxvalue                    | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| incr_column                      | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| logdir                           | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| timefile                         | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
 
 
 
Table - import_stage
--------------------

The import tool keeps track of how far in the import the tool have succeeded. So in case of an error, lets say that Hive is not responding, the next time an import is executed it will skip the first part and continue from where it ended in error on the previous run. If you want to rerun from the begining, the information in this table needs to be cleared. This is done with the "manage --clearImportStage" tool. Keep in mind that clearing the stage of an incremental import might result in the loss of the data.

+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Column                           | Documentation                                                                                                                                                                                                               |
+==================================+=============================================================================================================================================================================================================================+
| hive_db                          | Hive Database                                                                                                                                                                                                               |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_table                       | Hive Table                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| stage                            | Current stage of the import. This is an internal stage and has nothing to do with stage1 and stage2 in Airflow DAG's                                                                                                        |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| stage_description                | Description of the stage                                                                                                                                                                                                    |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| import_type                      | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| unrecoverable_error              | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| get_source_rowcount_start        | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| get_source_rowcount_stop         | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| get_source_rowcount_duration     | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_start                      | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_stop                       | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_duration                   | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_mappers                    | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_rows                       | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_size                       | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| source_table_rowcount            | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| target_table_rowcount            | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| incr_minvalue                    | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| incr_maxvalue                    | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| incr_column                      | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| logdir                           | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| timefile                         | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
 
 
 
Table - import_stage_statistics
-------------------------------

As DBImport progress through the different stages of the import, it also keeps track of start and stop time for each stage together with the duration. That information is kept in this table

+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Column                           | Documentation                                                                                                                                                                                                               |
+==================================+=============================================================================================================================================================================================================================+
| hive_db                          | Hive Database                                                                                                                                                                                                               |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_table                       | Hive Table                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| stage                            | Current stage of the import. This is an internal stage and has nothing to do with stage1 and stage2 in Airflow DAG's                                                                                                        |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| start                            | Time when stage started                                                                                                                                                                                                     |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| stop                             | Time when stage was completed                                                                                                                                                                                               |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| duration                         | Duration of stage                                                                                                                                                                                                           |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
 
 
 
Table - import_statistics
-------------------------

At the end of each import, all statistics about how long each part took aswell as general information about Hive datbase and table, number of rows imported, size of the import and much more are logged in this table. This table grows and will never be truncated by DBImport itself. If it becomes to large for you, it's up to each user to delete or truncate this table as you see fit.

+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Column                           | Documentation                                                                                                                                                                                                               |
+==================================+=============================================================================================================================================================================================================================+
| id                               | Auto incremented PrimaryKey of the table                                                                                                                                                                                    |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_db                          | Hive Database                                                                                                                                                                                                               |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_table                       | Hive Table                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| importtype                       | What kind of import type that was used                                                                                                                                                                                      |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| incremental                      | 0 = Full import, 1 = Incremental import                                                                                                                                                                                     |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| dbalias                          | ID of the Database Connection                                                                                                                                                                                               |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| source_database                  | Name of the source database                                                                                                                                                                                                 |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| source_schema                    | Name of the source schema                                                                                                                                                                                                   |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| source_table                     | Name of the source table                                                                                                                                                                                                    |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| rows                             | How many rows that was imported                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| size                             | The total size in bytes that was imported                                                                                                                                                                                   |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sessions                         | How many parallell sessions was used against the source (sqoop mappers)                                                                                                                                                     |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| duration                         | Tota duration in seconds                                                                                                                                                                                                    |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| start                            | Timestamp of start                                                                                                                                                                                                          |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| stop                             | Timestamp of stop                                                                                                                                                                                                           |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_duration                   |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_start                      |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_stop                       |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| clear_hive_locks_duration        |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| clear_hive_locks_start           |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| clear_hive_locks_stop            |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| clear_table_rowcount_duration    |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| clear_table_rowcount_start       |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| clear_table_rowcount_stop        |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| connect_to_hive_duration         |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| connect_to_hive_start            |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| connect_to_hive_stop             |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| create_import_table_duration     |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| create_import_table_start        |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| create_import_table_stop         |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| create_target_table_duration     |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| create_target_table_start        |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| create_target_table_stop         |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| get_import_rowcount_duration     |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| get_import_rowcount_start        |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| get_import_rowcount_stop         |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| get_source_rowcount_duration     |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| get_source_rowcount_start        |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| get_source_rowcount_stop         |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| get_source_tableschema_duration  |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| get_source_tableschema_start     |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| get_source_tableschema_stop      |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| get_target_rowcount_duration     |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| get_target_rowcount_start        |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| get_target_rowcount_stop         |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_import_duration             |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_import_start                |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_import_stop                 |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| truncate_target_table_duration   |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| truncate_target_table_start      |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| truncate_target_table_stop       |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| update_statistics_duration       |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| update_statistics_start          |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| update_statistics_stop           |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| validate_import_table_duration   |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| validate_import_table_start      |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| validate_import_table_stop       |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| validate_sqoop_import_duration   |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| validate_sqoop_import_start      |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| validate_sqoop_import_stop       |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| validate_target_table_duration   |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| validate_target_table_start      |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| validate_target_table_stop       |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
 
 
 
Table - import_statistics_last
------------------------------

The last entry in table import_statistics is also stored in this table. This makes it easier to find the latest data without first grouping to find the latest entry. When import_statistics table grows to a high number of million rows, it saves alot of cpu power for the database server.

+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Column                           | Documentation                                                                                                                                                                                                               |
+==================================+=============================================================================================================================================================================================================================+
| hive_db                          | Hive Database                                                                                                                                                                                                               |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_table                       | Hive Table                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| importtype                       | What kind of import type that was used                                                                                                                                                                                      |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| incremental                      | 0 = Full import, 1 = Incremental import                                                                                                                                                                                     |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| dbalias                          | ID of the Database Connection                                                                                                                                                                                               |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| source_database                  | Name of the source database                                                                                                                                                                                                 |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| source_schema                    | Name of the source schema                                                                                                                                                                                                   |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| source_table                     | Name of the source table                                                                                                                                                                                                    |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| rows                             | How many rows that was imported                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| size                             | The total size in bytes that was imported                                                                                                                                                                                   |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sessions                         | How many parallell sessions was used against the source (sqoop mappers)                                                                                                                                                     |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| duration                         | Tota duration in seconds                                                                                                                                                                                                    |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| start                            | Timestamp of start                                                                                                                                                                                                          |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| stop                             | Timestamp of stop                                                                                                                                                                                                           |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_duration                   |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_start                      |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_stop                       |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| clear_hive_locks_duration        |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| clear_hive_locks_start           |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| clear_hive_locks_stop            |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| clear_table_rowcount_duration    |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| clear_table_rowcount_start       |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| clear_table_rowcount_stop        |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| connect_to_hive_duration         |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| connect_to_hive_start            |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| connect_to_hive_stop             |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| create_import_table_duration     |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| create_import_table_start        |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| create_import_table_stop         |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| create_target_table_duration     |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| create_target_table_start        |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| create_target_table_stop         |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| get_import_rowcount_duration     |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| get_import_rowcount_start        |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| get_import_rowcount_stop         |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| get_source_rowcount_duration     |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| get_source_rowcount_start        |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| get_source_rowcount_stop         |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| get_source_tableschema_duration  |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| get_source_tableschema_start     |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| get_source_tableschema_stop      |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| get_target_rowcount_duration     |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| get_target_rowcount_start        |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| get_target_rowcount_stop         |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_import_duration             |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_import_start                |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_import_stop                 |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| truncate_target_table_duration   |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| truncate_target_table_start      |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| truncate_target_table_stop       |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| update_statistics_duration       |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| update_statistics_start          |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| update_statistics_stop           |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| validate_import_table_duration   |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| validate_import_table_start      |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| validate_import_table_stop       |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| validate_sqoop_import_duration   |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| validate_sqoop_import_start      |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| validate_sqoop_import_stop       |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| validate_target_table_duration   |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| validate_target_table_start      |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| validate_target_table_stop       |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
 
 
 
Table - import_tables
---------------------

Main table where all tables that we can import are stored. 

+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Column                           | Documentation                                                                                                                                                                                                               |
+==================================+=============================================================================================================================================================================================================================+
| hive_db                          | Hive Database to import to                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_table                       | Hive Table to import to                                                                                                                                                                                                     |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| table_id                         | Unique identifier                                                                                                                                                                                                           |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| dbalias                          | Name of database connection from jdbc_connections table                                                                                                                                                                     |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| source_schema                    | Name of the schema in the remote database                                                                                                                                                                                   |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| source_table                     | Name of the table in the remote database                                                                                                                                                                                    |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| import_type                      | What import method to use                                                                                                                                                                                                   |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| last_update_from_source          | Timestamp of last schema update from source                                                                                                                                                                                 |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_sql_where_addition         | Will be added AFTER the SQL WHERE. If it's an incr import, this will be after the incr limit statements. Example "orderId > 1000"                                                                                           |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| nomerge_ingestion_sql_addition   | This will be added to the data ingestion of None-Merge imports (full, full_direct and incr). Usefull to filter out data from import tables to target tables                                                                 |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| include_in_airflow               | Will the table be included in Airflow DAG when it matches the DAG selection                                                                                                                                                 |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| airflow_priority                 | This will set priority_weight in Airflow                                                                                                                                                                                    |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| validate_import                  | Should the import be validated                                                                                                                                                                                              |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| validate_diff_allowed            | -1 = auto calculated diff allowed. If a positiv number, this is the amount of rows that the diff is allowed to have                                                                                                         |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| truncate_hive                    | Truncate Hive table before loading it.                                                                                                                                                                                      |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| mappers                          | -1 = auto or positiv number for a fixed number of mappers. If Auto, then it's calculated based of last sqoop import size                                                                                                    |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| soft_delete_during_merge         | If 1, then the row will be marked as deleted instead of actually being removed from the table. Only used for Merge imports                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| source_rowcount                  | Used for validation. Dont change manually                                                                                                                                                                                   |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| source_rowcount_incr             |                                                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_rowcount                    | Used for validation. Dont change manually                                                                                                                                                                                   |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| incr_mode                        | append or lastmodified                                                                                                                                                                                                      |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| incr_column                      | What column to use to identify new rows                                                                                                                                                                                     |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| incr_validation_method           | full or incr. Full means that the validation will check to total number of rows up until maxvalue and compare source with target. Incr will only compare the rows between min and max value (the data that sqoop just read) |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| incr_minvalue                    | Used for incremental imports. Dont change manually                                                                                                                                                                          |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| incr_maxvalue                    | Used for incremental imports. Dont change manually                                                                                                                                                                          |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| incr_minvalue_pending            | Used for incremental imports. Dont change manually                                                                                                                                                                          |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| incr_maxvalue_pending            | Used for incremental imports. Dont change manually                                                                                                                                                                          |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| pk_column_override               | Force the import and Hive table to define another PrimaryKey constraint. Comma separeted list of columns                                                                                                                    |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| pk_column_override_mergeonly     | Force the import to use another PrimaryKey constraint during Merge operations. Comma separeted list of columns                                                                                                              |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_merge_heap                  | Should be a multiple of Yarn container size. If NULL then it will use the default specified in Yarn and TEZ                                                                                                                 |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| concatenate_hive_table           | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_query                      | Use a custom query in sqoop to read data from source table                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_options                    | Options to send to sqoop. Most common used for --split-by option                                                                                                                                                            |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_last_size                  | Used to track sqoop operation. Dont change manually                                                                                                                                                                         |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_last_rows                  | Used to track sqoop operation. Dont change manually                                                                                                                                                                         |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_last_mappers               | Used to track sqoop operation. Dont change manually                                                                                                                                                                         |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_last_execution             | Used to track sqoop operation. Dont change manually                                                                                                                                                                         |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_use_generated_sql          | 1 = Use the generated SQL that is saved in the generated_sqoop_query column                                                                                                                                                 |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sqoop_allow_text_splitter        | Allow splits on text columns. Use with caution                                                                                                                                                                              |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| force_string                     | If set to 1, all character based fields (char, varchar) will become string in Hive. Overrides the same setting in jdbc_connections table                                                                                    |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| comment                          | Table comment from source system. Dont change manually                                                                                                                                                                      |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| generated_hive_column_definition | Generated column definition for Hive create table. Dont change manually                                                                                                                                                     |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| generated_sqoop_query            | Generated query for sqoop. Dont change manually                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| generated_sqoop_options          | Generated options for sqoop. Dont change manually                                                                                                                                                                           |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| generated_pk_columns             | Generated Primary Keys. Dont change manually                                                                                                                                                                                |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| generated_foreign_keys           | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| datalake_source                  | This value will come in the dbimport_source column if present. Overrides the same setting in jdbc_connections table                                                                                                         |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| operator_notes                   | Free text field to write a note about the import.                                                                                                                                                                           |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
 
 
 
Table - jdbc_connections
------------------------

Database connection definitions

+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Column                           | Documentation                                                                                                                                                                                                               |
+==================================+=============================================================================================================================================================================================================================+
| dbalias                          | Name of the Database connection                                                                                                                                                                                             |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| private_key_path                 | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| public_key_path                  | <NOT USED>                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| jdbc_url                         | The JDBC URL String                                                                                                                                                                                                         |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| credentials                      | Encrypted fields for credentials.m Changed by the saveCredentialTool                                                                                                                                                        |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| datalake_source                  | This value will come in the dbimport_source column if present. Priority is table, connection                                                                                                                                |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| max_import_sessions              | You can limit the number of parallel sessions during import with this value. If NULL, then Max will come from configuration file                                                                                            |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| force_string                     | If set to 1, all character based fields (char, varchar) will become string in Hive                                                                                                                                          |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| create_datalake_import           | If set to 1, the datalake_import column will be created on all tables that is using this dbalias                                                                                                                            |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| timewindow_start                 | Start of the time window when we are allowed to run against this connection.                                                                                                                                                |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| timewindow_stop                  | End of the time window when we are allowed to run against this connection.                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| operator_notes                   | Free text field to write a note about the connection                                                                                                                                                                        |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
 
 
 
Table - json_to_rest
--------------------

Temporary storage of JSON payloads that will be sent to a REST interface if the tool is configured to do so.

+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Column                           | Documentation                                                                                                                                                                                                               |
+==================================+=============================================================================================================================================================================================================================+
| id                               | Unique Identifier                                                                                                                                                                                                           |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| type                             | The type of JSON data that is saved in the 'jsondata' column                                                                                                                                                                |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| create_time                      | Time when the JSON data was created                                                                                                                                                                                         |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| status                           | Internal status to keep track of what the status of the transmissions is                                                                                                                                                    |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| jsondata                         | The payload to send                                                                                                                                                                                                         |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
 
 
 
Table - table_change_history
----------------------------

This table keeps track of all changes that was done to an abject after the initial load. Example could be that a colum type was changed from char(10) to varchar(10). That kind of information is logged in this table

+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Column                           | Documentation                                                                                                                                                                                                               |
+==================================+=============================================================================================================================================================================================================================+
| hive_db                          | Hive Database                                                                                                                                                                                                               |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hive_table                       | Hive Table                                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| column_name                      | Column Name                                                                                                                                                                                                                 |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| eventtime                        | Time and date of the event                                                                                                                                                                                                  |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| event                            | Event name.                                                                                                                                                                                                                 |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| previous_value                   | Value before the change                                                                                                                                                                                                     |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| value                            | Value after the change                                                                                                                                                                                                      |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| description                      | Detailed description of the event                                                                                                                                                                                           |
+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
